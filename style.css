:root{
  --bg: #f4f4f9;
  --panel: #ffffff;
  --muted: #f1f6fb;
  --text: #222;
  --accent: #00AEEF;
  --accent-dark: #007fb3;
  --accent-contrast: #ffd24d;
  --card-shadow: 0 6px 20px rgba(6,24,58,0.08);
  --radius: 12px;
  --trans: 0.45s cubic-bezier(.2,.9,.2,1);
}
/* FIX NAVBAR LAYOUT */
.header {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 18px 28px;
}

.nav {
  display: flex;
  align-items: center;
  gap: 20px;
}

.nav a {
  color: #fff;
  font-weight: 600;
  padding: 10px 14px;
  border-radius: 8px;
  transition: 0.2s;
}

.nav a:hover {
  background: rgba(255,255,255,0.15);
}

.brand .logo {
  font-size: 22px;
  color: #fff;
  font-weight: 700;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: Inter, Arial, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue";
  background:var(--bg);
  color:var(--text);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  transition:background-color var(--trans), color var(--trans), filter var(--trans);
}

a{color:inherit;text-decoration:none}

.header{
  background:linear-gradient(90deg,var(--accent),var(--accent-dark));
  color:#fff;
  padding:22px 24px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:20px;
  box-shadow:0 4px 18px rgba(0,0,0,0.06);
}

.brand{
  display:flex;
  gap:14px;
  align-items:center;
}
.logo{
  font-weight:700;
  font-size:20px;
  letter-spacing:0.6px;
  color:#fff;
}
.nav{
  display:flex;
  gap:12px;
  align-items:center;
}
.nav a{
  color:rgba(255,255,255,0.95);
  padding:10px 14px;
  border-radius:10px;
  font-weight:600;
  transition:background var(--trans), transform .18s ease;
}
.nav a:hover{background:rgba(255,255,255,0.08); transform:translateY(-2px)}

.theme-toggle{
  background:transparent;
  border: none;
  color: #fff;
  font-size:20px;
  width:44px;
  height:44px;
  border-radius:10px;
  display:inline-grid;
  place-items:center;
  cursor:pointer;
  transition:transform .45s ease;
}
.theme-toggle.rotate{animation:rotateIcon .6s linear}
@keyframes rotateIcon{from{transform:rotate(0)}to{transform:rotate(360deg)}}

/* HERO for index.html */
.hero{
  background: linear-gradient(180deg,#f6fbff 0%, #eef7fb 100%);
  padding:80px 20px;
  display:flex;
  justify-content:center;
  align-items:center;
}
.hero-inner{
  max-width:1100px;
  width:100%;
  display:grid;
  grid-template-columns: 1fr 420px;
  gap:36px;
  align-items:center;
}
.hero-copy h1{
  margin:0 0 18px 0;
  font-size:44px;
  line-height:1.05;
  color: #05304a;
}
.hero-copy p{
  margin:0 0 26px 0;
  font-size:18px;
  color:#2b4b5b;
}
.hero-cta{
  display:flex;
  gap:12px;
  align-items:center;
}
.btn{
  display:inline-block;
  background:var(--accent);
  color:#fff;
  padding:14px 22px;
  border-radius:14px;
  font-weight:700;
  box-shadow:0 10px 30px rgba(0,138,204,0.12);
  transition:transform .18s ease, box-shadow .18s ease;
}
.btn:hover{transform:translateY(-3px); box-shadow:0 18px 36px rgba(0,138,204,0.14)}
.btn-ghost{
  background:transparent;
  border:1px solid rgba(6,24,58,0.06);
  color:var(--text);
  padding:12px 18px;
  border-radius:12px;
  font-weight:600;
}

/* info cards on index */
.info-section{
  max-width:1200px;
  margin:48px auto 80px;
  padding:0 20px;
}
.info-grid{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:22px;
}
.card{
  background:var(--panel);
  border-radius:var(--radius);
  padding:22px;
  box-shadow:var(--card-shadow);
  transition:transform var(--trans), box-shadow var(--trans);
}
.card h3{margin:0 0 10px;font-size:20px;color:#07324a}
.card p{margin:0;color:#3b5566;line-height:1.45}
.card:hover{transform:translateY(-6px);box-shadow:0 18px 40px rgba(6,24,58,0.08)}

/* main layout for calculator page */
.container{
  max-width:1320px;
  margin:28px auto;
  padding:0 20px;
}
.grid-layout{
  display:grid;
  grid-template-columns: 360px 1fr 360px;
  gap:20px;
  align-items:start;
}

/* panels */
.panel{
  background:var(--panel);
  border-radius:12px;
  padding:20px;
  box-shadow:var(--card-shadow);
  transition:background-color var(--trans), color var(--trans), transform .18s ease;
}
.settings{display:flex;flex-direction:column;gap:12px}
.settings h2, .results h2{margin:0 0 6px 0;font-size:18px;color:#0b3348}
.settings .row{display:flex;align-items:center;gap:12px;justify-content:space-between}
.settings label{font-size:14px;color:#274454;margin:6px 0 4px;display:block}
.settings input[type="range"], .settings select, .settings input[type="number"]{width:100%}
.settings input[type="number"]{padding:8px;border-radius:8px;border:1px solid rgba(6,24,58,0.08);width:45%}

/* area label wraps to next line on small width */
.settings .area-label{white-space:normal;word-break:break-word}

/* visualization panel specifics */
.visualization{
  display:flex;
  flex-direction:column;
  gap:18px;
  min-height:640px;
  justify-content:flex-start;
}
.map-panel{height:560px;border-radius:12px;overflow:hidden;background:linear-gradient(180deg,#f8fbff,#eef7fb)}
.preview-panel{background:#fafcff;padding:14px;border-radius:10px;box-shadow:inset 0 1px 0 rgba(255,255,255,0.6)}

/* results */
.results{display:flex;flex-direction:column;gap:12px}
.result-value{font-size:20px;font-weight:700;color:#0b3348}
.result-small{font-size:13px;color:#426070}

/* small util */
.kv{display:flex;justify-content:space-between;align-items:center;gap:8px}
.hint{font-size:13px;color:#6e8896}

/* map and popup */
#map{width:100%;height:100%;min-height:480px;border-radius:10px;overflow:hidden}
.leaflet-control-coords{background:rgba(255,255,255,0.9);padding:6px 8px;border-radius:8px;color:#123;color:#123;font-size:13px;box-shadow:0 4px 12px rgba(6,24,58,0.06)}

/* footer */
.footer{max-width:1320px;margin:40px auto;padding:24px 20px;color:#51697b}
.footer p{margin:0;font-size:14px}

/* dark theme */
body.dark{
  background:#071222;
  color:#dfeff7;
  filter: none;
}
body.dark .header{background:linear-gradient(90deg,#005c87,#00364e)}
body.dark .card, body.dark .panel{background:#0f1720;color:#dfeff7;box-shadow:0 10px 30px rgba(0,0,0,0.5)}
body.dark .hero{background:linear-gradient(180deg,#002635,#001726)}
body.dark .btn{background:#0b74a0}
body.dark .btn-ghost{border-color:rgba(255,255,255,0.06)}
body.dark .leaflet-control-coords{background:rgba(10,10,12,0.78);color:#ffd24d;box-shadow:none}

/* transitions */
*{transition:background-color .35s ease,color .35s ease,box-shadow .25s ease}

/* responsive */
@media (max-width:1100px){
  .hero-inner{grid-template-columns:1fr}
  .info-grid{grid-template-columns:1fr}
  .grid-layout{grid-template-columns:1fr;gap:18px}
  .map-panel{height:420px}
  .visualization{min-height:520px}
  .header{padding:16px}
}

@media (max-width:680px){
  .hero{padding:42px 18px}
  .hero h1{font-size:28px}
  .btn{padding:12px 18px}
  .settings input[type="number"]{width:100%}
}

